<!DOCTYPE html>
<html lang="ro">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>AI Clasa a VI-a</title>
<link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;700&display=swap" rel="stylesheet">
<style>
body {
  font-family: 'Roboto', sans-serif;
  background: linear-gradient(135deg, #4facfe, #00f2fe);
  margin: 0;
  color: white;
  display: flex;
  flex-direction: column;
  min-height: 100vh;
}
header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  background: rgba(0,0,0,0.3);
  padding: 10px 20px;
}
header h1 { font-size: 22px; }
.profile { display: flex; align-items: center; gap: 10px; }
.profile img {
  width: 40px; height: 40px; border-radius: 50%; background: white;
}
#logoutBtn {
  background: #ff4b5c;
  border: none;
  color: white;
  padding: 5px 10px;
  border-radius: 6px;
  cursor: pointer;
}
main {
  flex: 1;
  display: flex;
  flex-direction: column;
  align-items: center;
  padding: 20px;
  text-align: center;
}
textarea, input, button {
  margin: 8px 0;
  padding: 10px;
  border-radius: 8px;
  border: none;
  width: 90%;
  max-width: 400px;
  font-size: 16px;
}
button {
  background: #007bff;
  color: white;
  cursor: pointer;
}
button:hover { background: #0056b3; }
#response {
  background: rgba(255,255,255,0.2);
  border-radius: 10px;
  padding: 20px;
  margin-top: 20px;
  width: 90%;
  max-width: 600px;
  text-align: left;
}
footer {
  text-align: center;
  background: rgba(0,0,0,0.3);
  padding: 10px;
}

.modal {
  display: flex;
  justify-content: center;
  align-items: center;
  position: fixed;
  z-index: 99;
  left: 0; top: 0;
  width: 100%; height: 100%;
  background: rgba(0,0,0,0.5);
}
.modal-content {
  background: #222;
  color: white;
  border-radius: 10px;
  padding: 20px;
  width: 90%;
  max-width: 400px;
  text-align: center;
}
.close {
  color: #aaa;
  float: right;
  font-size: 28px;
  cursor: pointer;
}
.close:hover { color: white; }
</style>
</head>
<body>

<header>
  <h1>AI Clasa a VI-a</h1>
  <div class="profile">
    <img src="https://cdn-icons-png.flaticon.com/512/3135/3135715.png" alt="profil">
    <span id="userEmail">Neautentificat</span>
    <button id="logoutBtn">Delogare</button>
  </div>
</header>

<div id="loginModal" class="modal">
  <div class="modal-content">
    <span class="close">&times;</span>
    <h2>Autentificare / Înregistrare</h2>
    <form id="loginForm">
      <input type="email" id="loginEmail" placeholder="Email">
      <input type="password" id="loginPassword" placeholder="Parolă">
      <button type="submit">Autentificare</button>
    </form>
    <p>Nu ai cont?</p>
    <form id="registerForm">
      <input type="email" id="regEmail" placeholder="Email nou">
      <input type="password" id="regPassword" placeholder="Parolă nouă">
      <button type="submit">Înregistrare</button>
    </form>
    <button id="skipBtn">Intră fără cont</button>
  </div>
</div>

<main>
  <h2>Întreabă AI-ul tău</h2>
  <textarea id="userInput" placeholder="Ex: rezumat Baltagul sau calculează 8+9"></textarea>
  <button id="voiceBtn">🎤 Vorbește</button>
  <button onclick="processInput()">Trimite</button>
  <div id="response"></div>
</main>

<footer>Făcut de Denis © 2025</footer>

<script type="module">
import { initializeApp } from "https://www.gstatic.com/firebasejs/11.0.1/firebase-app.js";
import { getAuth, createUserWithEmailAndPassword, signInWithEmailAndPassword, signOut, onAuthStateChanged } from "https://www.gstatic.com/firebasejs/11.0.1/firebase-auth.js";

const firebaseConfig = {
  apiKey: "AIzaSyAkQaOIVHSYzIsGB6xB8ekPvzGsfF_78Tg",
  authDomain: "denizw111.firebaseapp.com",
  projectId: "denizw111",
  storageBucket: "denizw111.firebasestorage.app",
  messagingSenderId: "1004600733897",
  appId: "1:1004600733897:web:7e030dd1ec461c272f1d18",
  measurementId: "G-CWWGTGV8RF"
};

const app = initializeApp(firebaseConfig);
const auth = getAuth(app);

const loginModal = document.getElementById("loginModal");
const closeBtn = document.querySelector(".close");
const skipBtn = document.getElementById("skipBtn");
const loginForm = document.getElementById("loginForm");
const registerForm = document.getElementById("registerForm");
const logoutBtn = document.getElementById("logoutBtn");
const userEmail = document.getElementById("userEmail");

window.onload = () => loginModal.style.display = "flex";
closeBtn.onclick = () => loginModal.style.display = "none";
skipBtn.onclick = () => loginModal.style.display = "none";

registerForm.addEventListener("submit", (e) => {
  e.preventDefault();
  createUserWithEmailAndPassword(auth, regEmail.value, regPassword.value)
  .then(() => alert("Înregistrare reușită"))
  .catch(err => alert(err.message));
});

loginForm.addEventListener("submit", (e) => {
  e.preventDefault();
  signInWithEmailAndPassword(auth, loginEmail.value, loginPassword.value)
  .then(() => { loginModal.style.display = "none"; })
  .catch(err => alert("Eroare: " + err.message));
});

logoutBtn.onclick = () => signOut(auth);

onAuthStateChanged(auth, (user) => {
  if (user) userEmail.textContent = user.email;
  else userEmail.textContent = "Neautentificat";
});

function processInput() {
  const input = document.getElementById("userInput").value.toLowerCase().trim();
  const response = document.getElementById("response");

  // Operații matematice
  if (input.includes("+") || input.includes("-") || input.includes("*") || input.includes("x") || input.includes(":") || input.includes("/")) {
    try {
      const expr = input.replace("x", "*").replace(":", "/");
      response.innerHTML = "Rezultat: " + eval(expr);
      return;
    } catch {
      response.innerHTML = "Eroare în expresie.";
      return;
    }
  }

  // Rezumate Română
  const rezumate = {
    "baltagul": "„Baltagul” de Mihail Sadoveanu urmărește drumul Vitoriei Lipan care pleacă să-și caute soțul dispărut. Ea descoperă adevărul despre uciderea lui Nechifor și îl răzbună. Cartea arată puterea, credința și curajul unei femei de la munte.",
    "amintiri din copilărie": "Scrisă de Ion Creangă, prezintă copilăria lui Nică din Humulești. Scenele din sat, școala, drăgălășeniile și învățăturile oferă o imagine vie a lumii țărănești de altădată.",
    "povestea lui harap-alb": "Un basm cult de Ion Creangă despre un tânăr care, trecând prin încercări grele, își dovedește curajul și bunătatea. Cu ajutorul prietenilor săi, învinge răul și devine un adevărat erou.",
    "făt-frumos din lacrimă": "De Mihai Eminescu, basm filozofic despre un tânăr născut din lacrima unei împărătese care înfruntă încercări pentru a-și împlini destinul. Simbolizează lupta dintre bine și rău.",
    "soacra cu trei nurori": "Poveste populară despre o soacră care își pune nurorile la încercare. Cea mică dovedește hărnicie și bunătate, iar celelalte două sunt pedepsite pentru lene și răutate.",
    "punguța cu doi bani": "De Ion Creangă, povestea unui cocoș care, alungat de stăpână, găsește o punguță cu bani. Gâsca lacomă încearcă să-l păcălească, dar el își recuperează comoara. Morala: hărnicia și dreptatea înving.",
    "capra cu trei iezi": "De Ion Creangă, basm moralizator despre o capră care își învață iezii ascultarea și prudența. Doi mor pentru că nu o ascultă, iar cel mic scapă datorită istețimii sale.",
    "d-l golem": "Povestire modernă despre tehnologie și responsabilitate. Arată cum omul își creează propriul „golem” digital, pierzând controlul asupra lui.",
    "fata babei și fata moșneagului": "De Ion Creangă, o poveste despre bine și rău. Fata moșneagului, bună și harnică, este răsplătită, iar fata babei, rea și leneșă, este pedepsită.",
    "ivan turbincă": "Poveste comică despre un soldat care păcălește moartea. Turbinca lui devine simbolul istețimii și al curajului popular românesc.",
    "stan pățitul": "Poveste populară despre un om care, după multe încercări, învață să nu mai fie naiv. Reprezintă inteligența practică a omului simplu.",
    "danila prepeleac": "De Ion Creangă, un basm comic despre prostia omului leneș și norocul neașteptat. Dănilă ajunge să câștige prin șiretenie o avere.",
    "limba română": "Poem patriotic care arată frumusețea și bogăția limbii noastre, simbol al identității naționale.",
    "la cireșe": "Povestire amuzantă despre copilăria lui Nică și isprava cu cireșele mătușii. Arată ingeniozitatea și consecințele neascultării.",
    "sarea în bucate": "Basm despre o prințesă care își iubește tatăl ca sarea în bucate. Tatăl o alungă, dar în final înțelege valoarea iubirii sincere.",
    "ursul păcălit de vulpe": "Fabula lui Creangă arată cum inteligența poate învinge forța. Vulpea îl păcălește pe urs și îi mănâncă peștele.",
    "moș ion roată": "Povestire istorică despre înțelepciunea țăranului român care îl confruntă cu umor pe domnitorul Cuza.",
    "povestea porcului": "De Ion Creangă, basm fantastic despre dragoste și transformare, în care un porc fermecat se dovedește a fi un prinț blestemat.",
    "plugușorul": "Text popular recitat la Anul Nou, simbol al muncii și speranței pentru belșug.",
    "miorița": "Baladă populară despre destin și resemnare. Ciobanul moldovean acceptă moartea cu demnitate, în armonie cu natura."
  };

  if (rezumate[input]) {
    response.innerHTML = rezumate[input];
    return;
  }

  // Matematică - Algebră și Geometrie
  if (input.includes("arie") || input.includes("perimetru")) {
    response.innerHTML = "Formula ariei dreptunghiului este lățime × lungime. Perimetrul este 2 × (lățime + lungime).";
    return;
  }

  if (input.includes("apartine") || input.includes("mulțime") || input.includes("multime")) {
    response.innerHTML = "Un element aparține unei mulțimi dacă este inclus în lista elementelor ei. Exemplu: dacă A = {5, 6, 7}, atunci 6 ∈ A.";
    return;
  }

  if (input.includes("triunghi")) {
    response.innerHTML = "Suma unghiurilor unui triunghi este 180°. Aria se calculează cu formula: (baza × înălțimea) / 2.";
    return;
  }

  if (input.includes("cerc")) {
    response.innerHTML = "Formula ariei cercului este π × r², iar perimetrul este 2 × π × r.";
    return;
  }

  if (input.includes("patrat")) {
    response.innerHTML = "Aria pătratului este latura², iar perimetrul este 4 × latura.";
    return;
  }

  if (input.includes("dreptunghi")) {
    response.innerHTML = "Aria dreptunghiului este lungime × lățime, iar perimetrul este 2 × (lungime + lățime).";
    return;
  }

  // General knowledge
  if (input.includes("romania") || input.includes("capitala")) {
    response.innerHTML = "Capitala României este București.";
    return;
  }

  if (input.includes("cel mai mare munte")) {
    response.innerHTML = "Cel mai înalt vârf din România este Moldoveanu, 2544 metri.";
    return;
  }

  response.innerHTML = "Nu am găsit răspunsul. Reformulează întrebarea.";
}

// Microfon
document.getElementById("voiceBtn").addEventListener("click", () => {
  const recognition = new (window.SpeechRecognition || window.webkitSpeechRecognition)();
  recognition.lang = "ro-RO";
  recognition.start();
  recognition.onresult = (event) => {
    document.getElementById("userInput").value = event.results[0][0].transcript;
  };
});
</script>

</body>
</html>
