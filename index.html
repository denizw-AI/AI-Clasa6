<!DOCTYPE html>
<html lang="ro">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>AI Clasa a VI-a</title>
<link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;700&display=swap" rel="stylesheet">
<style>
body {
  font-family: 'Roboto', sans-serif;
  background: linear-gradient(135deg, #4facfe, #00f2fe);
  margin: 0;
  color: white;
  display: flex;
  flex-direction: column;
  min-height: 100vh;
}
header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  background: rgba(0,0,0,0.3);
  padding: 10px 20px;
}
header h1 { font-size: 22px; }
.profile { display: flex; align-items: center; gap: 10px; }
.profile img {
  width: 40px; height: 40px; border-radius: 50%; background: white;
}
#logoutBtn {
  background: #ff4b5c;
  border: none;
  color: white;
  padding: 5px 10px;
  border-radius: 6px;
  cursor: pointer;
}
main {
  flex: 1;
  display: flex;
  flex-direction: column;
  align-items: center;
  padding: 20px;
  text-align: center;
}
textarea, input, button {
  margin: 8px 0;
  padding: 10px;
  border-radius: 8px;
  border: none;
  width: 90%;
  max-width: 400px;
  font-size: 16px;
}
button {
  background: #007bff;
  color: white;
  cursor: pointer;
}
button:hover { background: #0056b3; }
#response {
  background: rgba(255,255,255,0.2);
  border-radius: 10px;
  padding: 20px;
  margin-top: 20px;
  width: 90%;
  max-width: 600px;
  text-align: left;
}
footer {
  text-align: center;
  background: rgba(0,0,0,0.3);
  padding: 10px;
}

.modal {
  display: flex;
  justify-content: center;
  align-items: center;
  position: fixed;
  z-index: 99;
  left: 0; top: 0;
  width: 100%; height: 100%;
  background: rgba(0,0,0,0.5);
}
.modal-content {
  background: #222;
  color: white;
  border-radius: 10px;
  padding: 20px;
  width: 90%;
  max-width: 400px;
  text-align: center;
}
.close {
  color: #aaa;
  float: right;
  font-size: 28px;
  cursor: pointer;
}
.close:hover { color: white; }
</style>
</head>
<body>

<header>
  <h1>AI Clasa a VI-a</h1>
  <div class="profile">
    <img src="https://cdn-icons-png.flaticon.com/512/3135/3135715.png" alt="profil">
    <span id="userEmail">Neautentificat</span>
    <button id="logoutBtn">Delogare</button>
  </div>
</header>

<div id="loginModal" class="modal">
  <div class="modal-content">
    <span class="close">&times;</span>
    <h2>Autentificare / ÃŽnregistrare</h2>
    <form id="loginForm">
      <input type="email" id="loginEmail" placeholder="Email">
      <input type="password" id="loginPassword" placeholder="ParolÄƒ">
      <button type="submit">Autentificare</button>
    </form>
    <p>Nu ai cont?</p>
    <form id="registerForm">
      <input type="email" id="regEmail" placeholder="Email nou">
      <input type="password" id="regPassword" placeholder="ParolÄƒ nouÄƒ">
      <button type="submit">ÃŽnregistrare</button>
    </form>
    <button id="skipBtn">IntrÄƒ fÄƒrÄƒ cont</button>
  </div>
</div>

<main>
  <h2>ÃŽntreabÄƒ AI-ul tÄƒu</h2>
  <textarea id="userInput" placeholder="Ex: rezumat Baltagul sau calculeazÄƒ 8+9"></textarea>
  <button id="voiceBtn">ðŸŽ¤ VorbeÈ™te</button>
  <button onclick="processInput()">Trimite</button>
  <div id="response"></div>
</main>

<footer>FÄƒcut de Denis Â© 2025</footer>

<script type="module">
import { initializeApp } from "https://www.gstatic.com/firebasejs/11.0.1/firebase-app.js";
import { getAuth, createUserWithEmailAndPassword, signInWithEmailAndPassword, signOut, onAuthStateChanged } from "https://www.gstatic.com/firebasejs/11.0.1/firebase-auth.js";

const firebaseConfig = {
  apiKey: "AIzaSyAkQaOIVHSYzIsGB6xB8ekPvzGsfF_78Tg",
  authDomain: "denizw111.firebaseapp.com",
  projectId: "denizw111",
  storageBucket: "denizw111.firebasestorage.app",
  messagingSenderId: "1004600733897",
  appId: "1:1004600733897:web:7e030dd1ec461c272f1d18",
  measurementId: "G-CWWGTGV8RF"
};

const app = initializeApp(firebaseConfig);
const auth = getAuth(app);

const loginModal = document.getElementById("loginModal");
const closeBtn = document.querySelector(".close");
const skipBtn = document.getElementById("skipBtn");
const loginForm = document.getElementById("loginForm");
const registerForm = document.getElementById("registerForm");
const logoutBtn = document.getElementById("logoutBtn");
const userEmail = document.getElementById("userEmail");

window.onload = () => loginModal.style.display = "flex";
closeBtn.onclick = () => loginModal.style.display = "none";
skipBtn.onclick = () => loginModal.style.display = "none";

registerForm.addEventListener("submit", (e) => {
  e.preventDefault();
  createUserWithEmailAndPassword(auth, regEmail.value, regPassword.value)
  .then(() => alert("ÃŽnregistrare reuÈ™itÄƒ"))
  .catch(err => alert(err.message));
});

loginForm.addEventListener("submit", (e) => {
  e.preventDefault();
  signInWithEmailAndPassword(auth, loginEmail.value, loginPassword.value)
  .then(() => { loginModal.style.display = "none"; })
  .catch(err => alert("Eroare: " + err.message));
});

logoutBtn.onclick = () => signOut(auth);

onAuthStateChanged(auth, (user) => {
  if (user) userEmail.textContent = user.email;
  else userEmail.textContent = "Neautentificat";
});

function processInput() {
  const input = document.getElementById("userInput").value.toLowerCase().trim();
  const response = document.getElementById("response");

  // OperaÈ›ii matematice
  if (input.includes("+") || input.includes("-") || input.includes("*") || input.includes("x") || input.includes(":") || input.includes("/")) {
    try {
      const expr = input.replace("x", "*").replace(":", "/");
      response.innerHTML = "Rezultat: " + eval(expr);
      return;
    } catch {
      response.innerHTML = "Eroare Ã®n expresie.";
      return;
    }
  }

  // Rezumate RomÃ¢nÄƒ
  const rezumate = {
    "baltagul": "â€žBaltagulâ€ de Mihail Sadoveanu urmÄƒreÈ™te drumul Vitoriei Lipan care pleacÄƒ sÄƒ-È™i caute soÈ›ul dispÄƒrut. Ea descoperÄƒ adevÄƒrul despre uciderea lui Nechifor È™i Ã®l rÄƒzbunÄƒ. Cartea aratÄƒ puterea, credinÈ›a È™i curajul unei femei de la munte.",
    "amintiri din copilÄƒrie": "ScrisÄƒ de Ion CreangÄƒ, prezintÄƒ copilÄƒria lui NicÄƒ din HumuleÈ™ti. Scenele din sat, È™coala, drÄƒgÄƒlÄƒÈ™eniile È™i Ã®nvÄƒÈ›Äƒturile oferÄƒ o imagine vie a lumii È›ÄƒrÄƒneÈ™ti de altÄƒdatÄƒ.",
    "povestea lui harap-alb": "Un basm cult de Ion CreangÄƒ despre un tÃ¢nÄƒr care, trecÃ¢nd prin Ã®ncercÄƒri grele, Ã®È™i dovedeÈ™te curajul È™i bunÄƒtatea. Cu ajutorul prietenilor sÄƒi, Ã®nvinge rÄƒul È™i devine un adevÄƒrat erou.",
    "fÄƒt-frumos din lacrimÄƒ": "De Mihai Eminescu, basm filozofic despre un tÃ¢nÄƒr nÄƒscut din lacrima unei Ã®mpÄƒrÄƒtese care Ã®nfruntÄƒ Ã®ncercÄƒri pentru a-È™i Ã®mplini destinul. SimbolizeazÄƒ lupta dintre bine È™i rÄƒu.",
    "soacra cu trei nurori": "Poveste popularÄƒ despre o soacrÄƒ care Ã®È™i pune nurorile la Ã®ncercare. Cea micÄƒ dovedeÈ™te hÄƒrnicie È™i bunÄƒtate, iar celelalte douÄƒ sunt pedepsite pentru lene È™i rÄƒutate.",
    "punguÈ›a cu doi bani": "De Ion CreangÄƒ, povestea unui cocoÈ™ care, alungat de stÄƒpÃ¢nÄƒ, gÄƒseÈ™te o punguÈ›Äƒ cu bani. GÃ¢sca lacomÄƒ Ã®ncearcÄƒ sÄƒ-l pÄƒcÄƒleascÄƒ, dar el Ã®È™i recupereazÄƒ comoara. Morala: hÄƒrnicia È™i dreptatea Ã®nving.",
    "capra cu trei iezi": "De Ion CreangÄƒ, basm moralizator despre o caprÄƒ care Ã®È™i Ã®nvaÈ›Äƒ iezii ascultarea È™i prudenÈ›a. Doi mor pentru cÄƒ nu o ascultÄƒ, iar cel mic scapÄƒ datoritÄƒ isteÈ›imii sale.",
    "d-l golem": "Povestire modernÄƒ despre tehnologie È™i responsabilitate. AratÄƒ cum omul Ã®È™i creeazÄƒ propriul â€žgolemâ€ digital, pierzÃ¢nd controlul asupra lui.",
    "fata babei È™i fata moÈ™neagului": "De Ion CreangÄƒ, o poveste despre bine È™i rÄƒu. Fata moÈ™neagului, bunÄƒ È™i harnicÄƒ, este rÄƒsplÄƒtitÄƒ, iar fata babei, rea È™i leneÈ™Äƒ, este pedepsitÄƒ.",
    "ivan turbincÄƒ": "Poveste comicÄƒ despre un soldat care pÄƒcÄƒleÈ™te moartea. Turbinca lui devine simbolul isteÈ›imii È™i al curajului popular romÃ¢nesc.",
    "stan pÄƒÈ›itul": "Poveste popularÄƒ despre un om care, dupÄƒ multe Ã®ncercÄƒri, Ã®nvaÈ›Äƒ sÄƒ nu mai fie naiv. ReprezintÄƒ inteligenÈ›a practicÄƒ a omului simplu.",
    "danila prepeleac": "De Ion CreangÄƒ, un basm comic despre prostia omului leneÈ™ È™i norocul neaÈ™teptat. DÄƒnilÄƒ ajunge sÄƒ cÃ¢È™tige prin È™iretenie o avere.",
    "limba romÃ¢nÄƒ": "Poem patriotic care aratÄƒ frumuseÈ›ea È™i bogÄƒÈ›ia limbii noastre, simbol al identitÄƒÈ›ii naÈ›ionale.",
    "la cireÈ™e": "Povestire amuzantÄƒ despre copilÄƒria lui NicÄƒ È™i isprava cu cireÈ™ele mÄƒtuÈ™ii. AratÄƒ ingeniozitatea È™i consecinÈ›ele neascultÄƒrii.",
    "sarea Ã®n bucate": "Basm despre o prinÈ›esÄƒ care Ã®È™i iubeÈ™te tatÄƒl ca sarea Ã®n bucate. TatÄƒl o alungÄƒ, dar Ã®n final Ã®nÈ›elege valoarea iubirii sincere.",
    "ursul pÄƒcÄƒlit de vulpe": "Fabula lui CreangÄƒ aratÄƒ cum inteligenÈ›a poate Ã®nvinge forÈ›a. Vulpea Ã®l pÄƒcÄƒleÈ™te pe urs È™i Ã®i mÄƒnÃ¢ncÄƒ peÈ™tele.",
    "moÈ™ ion roatÄƒ": "Povestire istoricÄƒ despre Ã®nÈ›elepciunea È›Äƒranului romÃ¢n care Ã®l confruntÄƒ cu umor pe domnitorul Cuza.",
    "povestea porcului": "De Ion CreangÄƒ, basm fantastic despre dragoste È™i transformare, Ã®n care un porc fermecat se dovedeÈ™te a fi un prinÈ› blestemat.",
    "pluguÈ™orul": "Text popular recitat la Anul Nou, simbol al muncii È™i speranÈ›ei pentru belÈ™ug.",
    "mioriÈ›a": "BaladÄƒ popularÄƒ despre destin È™i resemnare. Ciobanul moldovean acceptÄƒ moartea cu demnitate, Ã®n armonie cu natura."
  };

  if (rezumate[input]) {
    response.innerHTML = rezumate[input];
    return;
  }

  // MatematicÄƒ - AlgebrÄƒ È™i Geometrie
  if (input.includes("arie") || input.includes("perimetru")) {
    response.innerHTML = "Formula ariei dreptunghiului este lÄƒÈ›ime Ã— lungime. Perimetrul este 2 Ã— (lÄƒÈ›ime + lungime).";
    return;
  }

  if (input.includes("apartine") || input.includes("mulÈ›ime") || input.includes("multime")) {
    response.innerHTML = "Un element aparÈ›ine unei mulÈ›imi dacÄƒ este inclus Ã®n lista elementelor ei. Exemplu: dacÄƒ A = {5, 6, 7}, atunci 6 âˆˆ A.";
    return;
  }

  if (input.includes("triunghi")) {
    response.innerHTML = "Suma unghiurilor unui triunghi este 180Â°. Aria se calculeazÄƒ cu formula: (baza Ã— Ã®nÄƒlÈ›imea) / 2.";
    return;
  }

  if (input.includes("cerc")) {
    response.innerHTML = "Formula ariei cercului este Ï€ Ã— rÂ², iar perimetrul este 2 Ã— Ï€ Ã— r.";
    return;
  }

  if (input.includes("patrat")) {
    response.innerHTML = "Aria pÄƒtratului este laturaÂ², iar perimetrul este 4 Ã— latura.";
    return;
  }

  if (input.includes("dreptunghi")) {
    response.innerHTML = "Aria dreptunghiului este lungime Ã— lÄƒÈ›ime, iar perimetrul este 2 Ã— (lungime + lÄƒÈ›ime).";
    return;
  }

  // General knowledge
  if (input.includes("romania") || input.includes("capitala")) {
    response.innerHTML = "Capitala RomÃ¢niei este BucureÈ™ti.";
    return;
  }

  if (input.includes("cel mai mare munte")) {
    response.innerHTML = "Cel mai Ã®nalt vÃ¢rf din RomÃ¢nia este Moldoveanu, 2544 metri.";
    return;
  }

  response.innerHTML = "Nu am gÄƒsit rÄƒspunsul. ReformuleazÄƒ Ã®ntrebarea.";
}

// Microfon
document.getElementById("voiceBtn").addEventListener("click", () => {
  const recognition = new (window.SpeechRecognition || window.webkitSpeechRecognition)();
  recognition.lang = "ro-RO";
  recognition.start();
  recognition.onresult = (event) => {
    document.getElementById("userInput").value = event.results[0][0].transcript;
  };
});
</script>

</body>
</html>
